{{ define "head" }}
{{- $page := . }}
<meta name="description" content="{{ .Description }}" />
<meta property="og:title" content="{{ .Title }}" />
<meta property="og:description" content="{{ .Description }}" />
{{ with .Resources.GetMatch "featured-image.*" -}}
{{- $resized := .Resize "750x q70 jpg" -}}
<meta property="og:image" content="{{ $resized.Permalink }}" />
<meta property="og:image:width" content="{{ $resized.Width }}" />
<meta property="og:image:height" content="{{ $resized.Height }}" />
{{- with $page.Params.altImgText }}
<meta property="og:image:alt" content="{{ . }}" />
{{- end -}}
{{- end }}
{{ end }}

{{- define "main" -}}
<main class="container py-5">
  <article class="hugo-article">
    <header class="container is-max-desktop my-5">
      <div class="is-flex gap-xxs pb-2">
        {{- range .Params.categories -}}
        <a href="{{ partial "GetCategoryPermalink" . }}">
          <span class="tag is-info">
            {{ . }}
          </span>
        </a>
        {{- end -}}
      </div>
      <p class="is-size-7">{{- .Date | time.Format ":date_long" -}}</p>
      <h2 class="title is-1">{{ .Title }}</h2>
      <p class="subtitle is-size-4 is-italic">{{ .Description }}</p>
      <figure class="image is-5by3">
        <img class="object-fit-cover"
             src="{{ (.Resources.GetMatch "featured-image.*").RelPermalink }}"
             alt="{{ .Params.altImgText }}"
             >
      </figure>
    </header>
    <div class="hugo-article-body has-text-justified">
    {{ .Content }}
    </div>
  </article>
</main>
{{- end -}}
